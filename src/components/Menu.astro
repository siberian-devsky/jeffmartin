---
const menuItems = [
  { href: '/', text: 'home' },
  { href: '/about', text: 'about' },
  { href: '/contact', text: 'contact' }
];
---


<!-- menu button -->
<button
  id="menuBtn"
  class="text-blue-500 dark:text-customBlue
          hover:bg-customBlue/20 transition-colors duration-200"
  aria-label="Toggle Menu"
>
  <div class="flex flex-col gap-1">
    <span class="block w-6 h-0.5 bg-current"></span>
    <span class="block w-6 h-0.5 bg-current"></span>
    <span class="block w-6 h-0.5 bg-current"></span>
  </div>
</button>

<!-- slide down menu -->
<nav
  id="menu"
  class="fixed top-20 right-0 h-auto w-48 bg-zinc-900/80 dark:bg-zinc-900/40 
      transform translate-x-full transition-transform duration-300 ease-in-out backdrop-blur-sm"
  >
  <div class="p-6 flex flex-col gap-6">
    <div class="flex flex-col gap-4">
      {menuItems.map(item => (
          <a
              href={item.href}
              class="text-blue-500 dark:text-customBlue hover:text-white dark:hover:text-white 
                  transition-colors duration-200 text-2xl font-unifontex text-right"
          > 
              {item.text}
        </a>
      ))}
    </div>
  </div>
</nav>

<script>
  const menuBtn = document.getElementById('menuBtn');
  const menu = document.getElementById('menu');

  function toggleMenu() {
    menu?.classList.toggle('translate-x-full');
    document.body.classList.toggle('overflow-hidden');
  }

  menuBtn?.addEventListener('click', toggleMenu);

  // Close menu when clicking outside
  document.addEventListener('click', (e) => {
    const target = e.target as HTMLElement;
    if (!menu?.contains(target)
        && !menuBtn?.contains(target)
        && !menu?.classList.contains('translate-x-full')
      ) {
        toggleMenu();
    }
  });
</script>